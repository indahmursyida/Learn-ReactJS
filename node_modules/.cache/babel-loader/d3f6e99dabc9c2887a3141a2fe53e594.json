{"ast":null,"code":"var _jsxFileName = \"D:\\\\im-sanbercode-reactjs-batch-22\\\\Tugas-Harian-Part-2\\\\reactjs\\\\src\\\\Tugas-13\\\\tugas13.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst HooksWithAxios = () => {\n  _s();\n\n  const [pesertaLomba, setPesertaLomba] = useState(null);\n  const [inputName, setInputName] = useState(\"\");\n  const [inputPrice, setInputPrice] = useState(\"\");\n  const [inputWeight, setInputWeight] = useState(\"\");\n  const [currentId, setCurrentId] = useState(null);\n  useEffect(() => {\n    if (pesertaLomba === null) {\n      axios.get(`http://backendexample.sanbercloud.com/api/fruits`).then(res => {\n        let data = res.data;\n        setPesertaLomba(data.map(el => {\n          return {\n            id: el.id,\n            name: el.name,\n            price: el.price,\n            weight: el.weight\n          };\n        }));\n      });\n    }\n  }, [pesertaLomba]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (currentId === null) {\n      // untuk create data baru\n      axios.post(`http://backendexample.sanbercloud.com/api/fruits`, {\n        name: inputName,\n        price: inputPrice,\n        weight: inputWeight\n      }).then(res => {\n        let data = res.data;\n        setPesertaLomba([...pesertaLomba, {\n          id: data.id,\n          name: data.name,\n          price: inputPrice,\n          weight: inputWeight\n        }]);\n      });\n    } else {\n      axios.put(`http://backendexample.sanbercloud.com/api/fruits/${currentId}`, {\n        name: inputName,\n        price: inputPrice,\n        weight: inputWeight\n      }).then(() => {\n        let singlePeserta = pesertaLomba.find(el => el.id === currentId);\n        singlePeserta.name = inputName;\n        singlePeserta.price = inputPrice;\n        singlePeserta.weight = inputWeight;\n        setPesertaLomba([...pesertaLomba]);\n      });\n    }\n\n    setInputName(\"\");\n    setInputPrice(\"\");\n    setInputWeight(\"\");\n    setCurrentId(null);\n  };\n\n  const handleChange = event => {\n    let inputValue = event.target.value;\n    setInputName(inputValue);\n  };\n\n  const handleChangeName = event => {\n    let inputValue = event.target.value;\n    setInputName(inputValue);\n  };\n\n  const handleChangePrice = event => {\n    let inputValue = event.target.value;\n    setInputPrice(inputValue);\n  };\n\n  const handleChangeWeight = event => {\n    let inputValue = event.target.value;\n    setInputWeight(inputValue);\n  };\n\n  const handleEdit = event => {\n    let idPeserta = event.target.value;\n    axios.get(`http://backendexample.sanbercloud.com/api/fruits/${idPeserta}`).then(res => {\n      let data = res.data;\n      setInputName(data.name);\n      setInputPrice(data.price);\n      setInputWeight(data.weight);\n      setCurrentId(data.id);\n    });\n  };\n\n  const handleDelete = event => {\n    let idPeserta = parseInt(event.target.value);\n    axios.delete(`http://backendexample.sanbercloud.com/api/contestants/${idPeserta}`).then(() => {\n      let newPesertaLomba = pesertaLomba.filter(el => {\n        return el.id !== idPeserta;\n      });\n      setPesertaLomba(newPesertaLomba);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: pesertaLomba !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"70%\",\n        margin: \"0 auto\",\n        textAlign: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Daftar Peserta Lomba\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"peserta-lomba\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Nama\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Weight\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Aksi\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: pesertaLomba.map((item, index) => {\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.price\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.weight\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleEdit,\n                  value: item.id,\n                  children: \"Edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 27\n                }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleDelete,\n                  value: item.id,\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 25\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 23\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Form Peserta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        style: {\n          paddingBottom: \"20px\"\n        },\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              paddingRight: \"470px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Nama:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            onChange: handleChangeName,\n            value: inputName,\n            type: \"text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              paddingRight: \"470px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Harga:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 16\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            onChange: handleChangePrice,\n            value: inputPrice,\n            type: \"text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              paddingRight: \"370px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Berat (dalam gram):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 16\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            onChange: handleChangeWeight,\n            value: inputWeight,\n            type: \"text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: \"right\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            value: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 45\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 10\n    }, this)\n  }, void 0, false);\n};\n\n_s(HooksWithAxios, \"u91gw6OWrJ7JMCE1KM8dfnj/d+U=\");\n\n_c = HooksWithAxios;\nexport default HooksWithAxios;\n\nvar _c;\n\n$RefreshReg$(_c, \"HooksWithAxios\");","map":{"version":3,"sources":["D:/im-sanbercode-reactjs-batch-22/Tugas-Harian-Part-2/reactjs/src/Tugas-13/tugas13.js"],"names":["React","useState","useEffect","axios","HooksWithAxios","pesertaLomba","setPesertaLomba","inputName","setInputName","inputPrice","setInputPrice","inputWeight","setInputWeight","currentId","setCurrentId","get","then","res","data","map","el","id","name","price","weight","handleSubmit","event","preventDefault","post","put","singlePeserta","find","handleChange","inputValue","target","value","handleChangeName","handleChangePrice","handleChangeWeight","handleEdit","idPeserta","handleDelete","parseInt","delete","newPesertaLomba","filter","width","margin","textAlign","item","index","paddingBottom","paddingRight"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\"\r\nimport axios from \"axios\"\r\n\r\n\r\nconst HooksWithAxios = () =>{\r\n  const [pesertaLomba, setPesertaLomba] =  useState(null)\r\n  const [inputName, setInputName] =  useState(\"\")\r\n  const [inputPrice, setInputPrice] =  useState(\"\")\r\n  const [inputWeight, setInputWeight] =  useState(\"\")\r\n  const [currentId, setCurrentId] =  useState(null)\r\n\r\n  useEffect( () => {\r\n    if (pesertaLomba === null){\r\n      axios.get(`http://backendexample.sanbercloud.com/api/fruits`)\r\n      .then(res => {\r\n        let data = res.data\r\n        setPesertaLomba(data.map(el=> {return {id: el.id, name: el.name, price: el.price, weight: el.weight}}))\r\n      })\r\n    }\r\n  }, [pesertaLomba])\r\n\r\n  const handleSubmit = (event) =>{\r\n    event.preventDefault()\r\n\r\n    if (currentId === null){\r\n      // untuk create data baru\r\n      axios.post(`http://backendexample.sanbercloud.com/api/fruits`, {name: inputName, price: inputPrice, weight: inputWeight })\r\n      .then(res => {\r\n          let data = res.data\r\n          setPesertaLomba([...pesertaLomba, {id: data.id, name: data.name, price: inputPrice, weight: inputWeight}])\r\n      })\r\n    }else{\r\n      axios.put(`http://backendexample.sanbercloud.com/api/fruits/${currentId}`, {name: inputName, price: inputPrice, weight: inputWeight})\r\n      .then(() => {\r\n          let singlePeserta = pesertaLomba.find(el=> el.id === currentId)\r\n          singlePeserta.name= inputName\r\n          singlePeserta.price= inputPrice\r\n          singlePeserta.weight = inputWeight\r\n          setPesertaLomba([...pesertaLomba])\r\n      })      \r\n    }\r\n    setInputName(\"\")\r\n    setInputPrice(\"\")\r\n    setInputWeight(\"\")\r\n    setCurrentId(null)\r\n  }\r\n\r\n  const handleChange = (event) =>{\r\n    let inputValue = event.target.value\r\n    setInputName(inputValue)\r\n  }\r\n\r\n  const handleChangeName =(event)=>{\r\n    let inputValue = event.target.value\r\n    setInputName(inputValue)\r\n  }\r\n  const handleChangePrice=(event)=>{\r\n    let inputValue = event.target.value\r\n    setInputPrice(inputValue)\r\n  }\r\n  const handleChangeWeight=(event)=>{\r\n    let inputValue = event.target.value\r\n    setInputWeight(inputValue)\r\n  }\r\n\r\n  const handleEdit = (event) =>{\r\n    let idPeserta = event.target.value\r\n    axios.get(`http://backendexample.sanbercloud.com/api/fruits/${idPeserta}`)\r\n    .then(res => {\r\n      let data = res.data\r\n      setInputName(data.name)\r\n      setInputPrice(data.price)\r\n      setInputWeight(data.weight)\r\n      setCurrentId(data.id)\r\n    })\r\n  }\r\n\r\n  const handleDelete = (event) =>{\r\n    let idPeserta = parseInt(event.target.value)\r\n    axios.delete(`http://backendexample.sanbercloud.com/api/contestants/${idPeserta}`)\r\n    .then(() => {\r\n      let newPesertaLomba = pesertaLomba.filter(el=> {return el.id !== idPeserta})\r\n      setPesertaLomba(newPesertaLomba)\r\n    })\r\n  }\r\n\r\n  return(\r\n    <>\r\n      { pesertaLomba !== null &&\r\n        (<div style={{width: \"70%\", margin: \"0 auto\", textAlign: \"center\"}}>\r\n          <h1>Daftar Peserta Lomba</h1>\r\n          <table className=\"peserta-lomba\">\r\n            <thead>\r\n            <tr>\r\n              <th>No</th>\r\n              <th>Nama</th>\r\n              <th>Price</th>\r\n              <th>Weight</th>\r\n              <th>Aksi</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n                {\r\n                  pesertaLomba.map((item, index)=>{\r\n                    return(                    \r\n                      <tr key={index}>\r\n                        <td>{index+1}</td>\r\n                        <td>{item.name}</td>\r\n                        <td>{item.price}</td>\r\n                        <td>{item.weight}</td>\r\n                        <td>\r\n                          <button onClick={handleEdit} value={item.id}>Edit</button>\r\n                          &nbsp;\r\n                          <button onClick={handleDelete} value={item.id}>Delete</button>\r\n                        </td>\r\n                      </tr>\r\n                    )\r\n                  })\r\n                }\r\n            </tbody>\r\n          </table>\r\n          {/* Form */}\r\n          <h1>Form Peserta</h1>\r\n          <form style={{paddingBottom: \"20px\"}}onSubmit={handleSubmit}>\r\n          <div >\r\n          <label style={{paddingRight: \"470px\"}}>\r\n            <strong>Nama:</strong>\r\n          </label>          \r\n          <input required onChange={handleChangeName} value={inputName} type=\"text\" />\r\n          </div>\r\n          <br/>\r\n          <div><label style={{paddingRight: \"470px\"}}>\r\n            <strong>Harga:</strong>\r\n          </label>          \r\n          <input required onChange={handleChangePrice} value={inputPrice} type=\"text\" /></div>\r\n          <br/>\r\n          <div><label style={{paddingRight: \"370px\"}}>\r\n            <strong>Berat (dalam gram):</strong>\r\n          </label>          \r\n          <input required onChange={handleChangeWeight} value={inputWeight} type=\"text\" /></div>\r\n          <br/>\r\n          <div style={{textAlign: \"right\"}}><input type=\"submit\" value=\"Submit\" /></div>\r\n            \r\n          </form>\r\n        </div>)\r\n      }\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default HooksWithAxios\r\n"]},"metadata":{},"sourceType":"module"}