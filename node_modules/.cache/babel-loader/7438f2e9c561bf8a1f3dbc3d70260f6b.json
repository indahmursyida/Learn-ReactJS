{"ast":null,"code":"var _jsxFileName = \"D:\\\\im-sanbercode-reactjs-batch-22\\\\Tugas-Harian-Part-2\\\\reactjs\\\\src\\\\Tugas-13\\\\tugas13.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst HooksWithAxios = () => {\n  _s();\n\n  const [pesertaLomba, setPesertaLomba] = useState(null);\n  const [inputName, setInputName] = useState(\"\");\n  const [currentId, setCurrentId] = useState(null);\n  useEffect(() => {\n    if (pesertaLomba === null) {\n      axios.get(`http://backendexample.sanbercloud.com/api/fruits`).then(res => {\n        let data = res.data;\n        setPesertaLomba(data.map(el => {\n          return {\n            id: el.id,\n            name: el.name\n          };\n        }));\n      });\n    }\n  }, [pesertaLomba]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (currentId === null) {\n      // untuk create data baru\n      axios.post(`http://backendexample.sanbercloud.com/api/fruits`, {\n        name: inputName\n      }).then(res => {\n        let data = res.data;\n        setPesertaLomba([...pesertaLomba, {\n          id: data.id,\n          name: data.name\n        }]);\n      });\n    } else {\n      axios.put(`http://backendexample.sanbercloud.com/api/fruits/${currentId}`, {\n        name: inputName\n      }).then(() => {\n        let singlePeserta = pesertaLomba.find(el => el.id === currentId);\n        singlePeserta.name = inputName;\n        setPesertaLomba([...pesertaLomba]);\n      });\n    }\n\n    setInputName(\"\");\n    setCurrentId(null);\n  };\n\n  const handleChange = event => {\n    let inputValue = event.target.value;\n    setInputName(inputValue);\n  };\n\n  const handleEdit = event => {\n    let idPeserta = event.target.value;\n    axios.get(`http://backendexample.sanbercloud.com/api/fruits/${idPeserta}`).then(res => {\n      let data = res.data;\n      setInputName(data.name);\n      setCurrentId(data.id);\n    });\n  };\n\n  const handleDelete = event => {\n    let idPeserta = parseInt(event.target.value);\n    axios.delete(`http://backendexample.sanbercloud.com/api/contestants/${idPeserta}`).then(() => {\n      let newPesertaLomba = pesertaLomba.filter(el => {\n        return el.id !== idPeserta;\n      });\n      setPesertaLomba(newPesertaLomba);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: pesertaLomba !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"70%\",\n        margin: \"0 auto\",\n        textAlign: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Daftar Peserta Lomba\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"peserta-lomba\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Nama\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Aksi\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: pesertaLomba.map((item, index) => {\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleEdit,\n                  value: item.id,\n                  children: \"Edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 27\n                }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleDelete,\n                  value: item.id,\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 25\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 23\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Form Peserta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        style: {\n          paddingBottom: \"20px\"\n        },\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Masukkan nama peserta:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: inputName,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 10\n    }, this)\n  }, void 0, false);\n};\n\n_s(HooksWithAxios, \"aggiooJ/lGKPeM0ZUmUT4YTfiXE=\");\n\n_c = HooksWithAxios;\nexport default HooksWithAxios;\n\nvar _c;\n\n$RefreshReg$(_c, \"HooksWithAxios\");","map":{"version":3,"sources":["D:/im-sanbercode-reactjs-batch-22/Tugas-Harian-Part-2/reactjs/src/Tugas-13/tugas13.js"],"names":["React","useState","useEffect","axios","HooksWithAxios","pesertaLomba","setPesertaLomba","inputName","setInputName","currentId","setCurrentId","get","then","res","data","map","el","id","name","handleSubmit","event","preventDefault","post","put","singlePeserta","find","handleChange","inputValue","target","value","handleEdit","idPeserta","handleDelete","parseInt","delete","newPesertaLomba","filter","width","margin","textAlign","item","index","paddingBottom"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;AAEA,MAAMC,cAAc,GAAG,MAAK;AAAA;;AAC1B,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAmCL,QAAQ,CAAC,IAAD,CAAjD;AACA,QAAM,CAACM,SAAD,EAAYC,YAAZ,IAA6BP,QAAQ,CAAC,EAAD,CAA3C;AACA,QAAM,CAACQ,SAAD,EAAYC,YAAZ,IAA6BT,QAAQ,CAAC,IAAD,CAA3C;AAEAC,EAAAA,SAAS,CAAE,MAAM;AACf,QAAIG,YAAY,KAAK,IAArB,EAA0B;AACxBF,MAAAA,KAAK,CAACQ,GAAN,CAAW,kDAAX,EACCC,IADD,CACMC,GAAG,IAAI;AACX,YAAIC,IAAI,GAAGD,GAAG,CAACC,IAAf;AACAR,QAAAA,eAAe,CAACQ,IAAI,CAACC,GAAL,CAASC,EAAE,IAAG;AAAC,iBAAO;AAACC,YAAAA,EAAE,EAAED,EAAE,CAACC,EAAR;AAAYC,YAAAA,IAAI,EAAEF,EAAE,CAACE;AAArB,WAAP;AAAkC,SAAjD,CAAD,CAAf;AACD,OAJD;AAKD;AACF,GARQ,EAQN,CAACb,YAAD,CARM,CAAT;;AAUA,QAAMc,YAAY,GAAIC,KAAD,IAAU;AAC7BA,IAAAA,KAAK,CAACC,cAAN;;AAEA,QAAIZ,SAAS,KAAK,IAAlB,EAAuB;AACrB;AACAN,MAAAA,KAAK,CAACmB,IAAN,CAAY,kDAAZ,EAA+D;AAACJ,QAAAA,IAAI,EAAEX;AAAP,OAA/D,EACCK,IADD,CACMC,GAAG,IAAI;AACT,YAAIC,IAAI,GAAGD,GAAG,CAACC,IAAf;AACAR,QAAAA,eAAe,CAAC,CAAC,GAAGD,YAAJ,EAAkB;AAACY,UAAAA,EAAE,EAAEH,IAAI,CAACG,EAAV;AAAcC,UAAAA,IAAI,EAAEJ,IAAI,CAACI;AAAzB,SAAlB,CAAD,CAAf;AACH,OAJD;AAKD,KAPD,MAOK;AACHf,MAAAA,KAAK,CAACoB,GAAN,CAAW,oDAAmDd,SAAU,EAAxE,EAA2E;AAACS,QAAAA,IAAI,EAAEX;AAAP,OAA3E,EACCK,IADD,CACM,MAAM;AACR,YAAIY,aAAa,GAAGnB,YAAY,CAACoB,IAAb,CAAkBT,EAAE,IAAGA,EAAE,CAACC,EAAH,KAAUR,SAAjC,CAApB;AACAe,QAAAA,aAAa,CAACN,IAAd,GAAoBX,SAApB;AACAD,QAAAA,eAAe,CAAC,CAAC,GAAGD,YAAJ,CAAD,CAAf;AACH,OALD;AAMD;;AACDG,IAAAA,YAAY,CAAC,EAAD,CAAZ;AACAE,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACD,GApBD;;AAsBA,QAAMgB,YAAY,GAAIN,KAAD,IAAU;AAC7B,QAAIO,UAAU,GAAGP,KAAK,CAACQ,MAAN,CAAaC,KAA9B;AACArB,IAAAA,YAAY,CAACmB,UAAD,CAAZ;AACD,GAHD;;AAKA,QAAMG,UAAU,GAAIV,KAAD,IAAU;AAC3B,QAAIW,SAAS,GAAGX,KAAK,CAACQ,MAAN,CAAaC,KAA7B;AACA1B,IAAAA,KAAK,CAACQ,GAAN,CAAW,oDAAmDoB,SAAU,EAAxE,EACCnB,IADD,CACMC,GAAG,IAAI;AACX,UAAIC,IAAI,GAAGD,GAAG,CAACC,IAAf;AACAN,MAAAA,YAAY,CAACM,IAAI,CAACI,IAAN,CAAZ;AACAR,MAAAA,YAAY,CAACI,IAAI,CAACG,EAAN,CAAZ;AACD,KALD;AAMD,GARD;;AAUA,QAAMe,YAAY,GAAIZ,KAAD,IAAU;AAC7B,QAAIW,SAAS,GAAGE,QAAQ,CAACb,KAAK,CAACQ,MAAN,CAAaC,KAAd,CAAxB;AACA1B,IAAAA,KAAK,CAAC+B,MAAN,CAAc,yDAAwDH,SAAU,EAAhF,EACCnB,IADD,CACM,MAAM;AACV,UAAIuB,eAAe,GAAG9B,YAAY,CAAC+B,MAAb,CAAoBpB,EAAE,IAAG;AAAC,eAAOA,EAAE,CAACC,EAAH,KAAUc,SAAjB;AAA2B,OAArD,CAAtB;AACAzB,MAAAA,eAAe,CAAC6B,eAAD,CAAf;AACD,KAJD;AAKD,GAPD;;AASA,sBACE;AAAA,cACI9B,YAAY,KAAK,IAAjB,iBACC;AAAK,MAAA,KAAK,EAAE;AAACgC,QAAAA,KAAK,EAAE,KAAR;AAAeC,QAAAA,MAAM,EAAE,QAAvB;AAAiCC,QAAAA,SAAS,EAAE;AAA5C,OAAZ;AAAA,8BACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,eAEC;AAAO,QAAA,SAAS,EAAC,eAAjB;AAAA,gCACE;AAAA,iCACE;AAAA,oCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAQE;AAAA,oBAEMlC,YAAY,CAACU,GAAb,CAAiB,CAACyB,IAAD,EAAOC,KAAP,KAAe;AAC9B,gCACE;AAAA,sCACE;AAAA,0BAAKA,KAAK,GAAC;AAAX;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAA,0BAAKD,IAAI,CAACtB;AAAV;AAAA;AAAA;AAAA;AAAA,sBAFF,eAGE;AAAA,wCACE;AAAQ,kBAAA,OAAO,EAAEY,UAAjB;AAA6B,kBAAA,KAAK,EAAEU,IAAI,CAACvB,EAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,uBAGE;AAAQ,kBAAA,OAAO,EAAEe,YAAjB;AAA+B,kBAAA,KAAK,EAAEQ,IAAI,CAACvB,EAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHF;AAAA,eAASwB,KAAT;AAAA;AAAA;AAAA;AAAA,oBADF;AAWD,WAZD;AAFN;AAAA;AAAA;AAAA;AAAA,gBARF;AAAA;AAAA;AAAA;AAAA;AAAA,cAFD,eA6BC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA7BD,eA8BC;AAAM,QAAA,KAAK,EAAE;AAACC,UAAAA,aAAa,EAAE;AAAhB,SAAb;AAAqC,QAAA,QAAQ,EAAEvB,YAA/C;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,KAAK,EAAEZ,SAA1B;AAAqC,UAAA,QAAQ,EAAEmB;AAA/C;AAAA;AAAA;AAAA;AAAA,gBAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF;AAAA;AAAA;AAAA;AAAA;AAAA,cA9BD;AAAA;AAAA;AAAA;AAAA;AAAA;AAFL,mBADF;AA6CD,CA1GD;;GAAMtB,c;;KAAAA,c;AA4GN,eAAeA,cAAf","sourcesContent":["import React, {useState, useEffect} from \"react\"\r\nimport axios from \"axios\"\r\n\r\nconst HooksWithAxios = () =>{\r\n  const [pesertaLomba, setPesertaLomba] =  useState(null)\r\n  const [inputName, setInputName] =  useState(\"\")\r\n  const [currentId, setCurrentId] =  useState(null)\r\n\r\n  useEffect( () => {\r\n    if (pesertaLomba === null){\r\n      axios.get(`http://backendexample.sanbercloud.com/api/fruits`)\r\n      .then(res => {\r\n        let data = res.data\r\n        setPesertaLomba(data.map(el=> {return {id: el.id, name: el.name}}))\r\n      })\r\n    }\r\n  }, [pesertaLomba])\r\n\r\n  const handleSubmit = (event) =>{\r\n    event.preventDefault()\r\n\r\n    if (currentId === null){\r\n      // untuk create data baru\r\n      axios.post(`http://backendexample.sanbercloud.com/api/fruits`, {name: inputName})\r\n      .then(res => {\r\n          let data = res.data\r\n          setPesertaLomba([...pesertaLomba, {id: data.id, name: data.name}])\r\n      })\r\n    }else{\r\n      axios.put(`http://backendexample.sanbercloud.com/api/fruits/${currentId}`, {name: inputName})\r\n      .then(() => {\r\n          let singlePeserta = pesertaLomba.find(el=> el.id === currentId)\r\n          singlePeserta.name= inputName\r\n          setPesertaLomba([...pesertaLomba])\r\n      })      \r\n    }\r\n    setInputName(\"\")\r\n    setCurrentId(null)\r\n  }\r\n\r\n  const handleChange = (event) =>{\r\n    let inputValue = event.target.value\r\n    setInputName(inputValue)\r\n  }\r\n\r\n  const handleEdit = (event) =>{\r\n    let idPeserta = event.target.value\r\n    axios.get(`http://backendexample.sanbercloud.com/api/fruits/${idPeserta}`)\r\n    .then(res => {\r\n      let data = res.data\r\n      setInputName(data.name)\r\n      setCurrentId(data.id)\r\n    })\r\n  }\r\n\r\n  const handleDelete = (event) =>{\r\n    let idPeserta = parseInt(event.target.value)\r\n    axios.delete(`http://backendexample.sanbercloud.com/api/contestants/${idPeserta}`)\r\n    .then(() => {\r\n      let newPesertaLomba = pesertaLomba.filter(el=> {return el.id !== idPeserta})\r\n      setPesertaLomba(newPesertaLomba)\r\n    })\r\n  }\r\n\r\n  return(\r\n    <>\r\n      { pesertaLomba !== null &&\r\n        (<div style={{width: \"70%\", margin: \"0 auto\", textAlign: \"center\"}}>\r\n          <h1>Daftar Peserta Lomba</h1>\r\n          <table className=\"peserta-lomba\">\r\n            <thead>\r\n              <tr>\r\n                <th>No</th>\r\n                <th>Nama</th>\r\n                <th>Aksi</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n                {\r\n                  pesertaLomba.map((item, index)=>{\r\n                    return(                    \r\n                      <tr key={index}>\r\n                        <td>{index+1}</td>\r\n                        <td>{item.name}</td>\r\n                        <td>\r\n                          <button onClick={handleEdit} value={item.id}>Edit</button>\r\n                          &nbsp;\r\n                          <button onClick={handleDelete} value={item.id}>Delete</button>\r\n                        </td>\r\n                      </tr>\r\n                    )\r\n                  })\r\n                }\r\n            </tbody>\r\n          </table>\r\n          {/* Form */}\r\n          <h1>Form Peserta</h1>\r\n          <form style={{paddingBottom: \"20px\"}}onSubmit={handleSubmit}>\r\n            <label>\r\n              Masukkan nama peserta:\r\n            </label>          \r\n            <input type=\"text\" value={inputName} onChange={handleChange}/>\r\n            <button>submit</button>\r\n          </form>\r\n        </div>)\r\n      }\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default HooksWithAxios\r\n"]},"metadata":{},"sourceType":"module"}