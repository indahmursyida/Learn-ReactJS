{"ast":null,"code":"var _jsxFileName = \"D:\\\\im-sanbercode-reactjs-batch-22\\\\Tugas-Harian-Part-2\\\\reactjs\\\\src\\\\Tugas-14\\\\BuahList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport axios from \"axios\";\nimport { BuahContext } from \"./BuahContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst BuahList = () => {\n  _s();\n\n  const {\n    daftarBuahState,\n    currentIdState\n  } = useContext(BuahContext);\n  const [daftarBuah, setDaftarBuah] = daftarBuahState;\n  const [currentId, setCurrentId] = currentIdState;\n  useEffect(() => {\n    if (daftarBuah === null) {\n      axios.get(`http://backendexample.sanbercloud.com/api/fruits`).then(res => {\n        let data = res.data;\n        setDaftarBuah(data.map(el => {\n          return {\n            id: el.id,\n            name: el.name,\n            price: el.price,\n            weight: el.weight\n          };\n        }));\n      });\n    }\n  }, [daftarBuah]);\n\n  const handleEdit = event => {\n    let idBuah = event.target.value;\n    setCurrentId(idBuah);\n  };\n\n  const handleDelete = event => {\n    let idBuah = parseInt(event.target.value);\n    axios.delete(`http://backendexample.sanbercloud.com/api/contestants/${idBuah}`).then(() => {\n      let newDaftarBuah = DaftarBuah.filter(el => {\n        return el.id !== idBuah;\n      });\n      setDaftarBuah(newDaftarBuah);\n    });\n\n    if (currentId === idBuah) {\n      setCurrentId(null);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: daftarBuah !== null && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Daftar Buah Lomba\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Nama\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Weight\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Aksi\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: daftarBuah.map((item, index) => {\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.price\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [item.weight / 1000, \" kg\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleEdit,\n                  value: item.id,\n                  children: \"Edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 27\n                }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleDelete,\n                  value: item.id,\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 25\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 23\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false);\n};\n\n_s(BuahList, \"+P8mPLX8/xlCH2G3suQCmpwCC8E=\");\n\n_c = BuahList;\nexport default BuahList;\n\nvar _c;\n\n$RefreshReg$(_c, \"BuahList\");","map":{"version":3,"sources":["D:/im-sanbercode-reactjs-batch-22/Tugas-Harian-Part-2/reactjs/src/Tugas-14/BuahList.js"],"names":["React","useState","useEffect","useContext","axios","BuahContext","BuahList","daftarBuahState","currentIdState","daftarBuah","setDaftarBuah","currentId","setCurrentId","get","then","res","data","map","el","id","name","price","weight","handleEdit","event","idBuah","target","value","handleDelete","parseInt","delete","newDaftarBuah","DaftarBuah","filter","item","index"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,UAApC,QAAqD,OAArD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,eAA5B;;;;AAGA,MAAMC,QAAQ,GAAG,MAAK;AAAA;;AACpB,QAAM;AAACC,IAAAA,eAAD;AAAkBC,IAAAA;AAAlB,MAAoCL,UAAU,CAACE,WAAD,CAApD;AAEA,QAAM,CAACI,UAAD,EAAaC,aAAb,IAA8BH,eAApC;AACA,QAAM,CAACI,SAAD,EAAYC,YAAZ,IAA4BJ,cAAlC;AAEAN,EAAAA,SAAS,CAAE,MAAM;AACf,QAAIO,UAAU,KAAK,IAAnB,EAAwB;AACtBL,MAAAA,KAAK,CAACS,GAAN,CAAW,kDAAX,EACCC,IADD,CACMC,GAAG,IAAI;AACX,YAAIC,IAAI,GAAGD,GAAG,CAACC,IAAf;AACAN,QAAAA,aAAa,CAACM,IAAI,CAACC,GAAL,CAASC,EAAE,IAAG;AAAC,iBAAO;AAACC,YAAAA,EAAE,EAAED,EAAE,CAACC,EAAR;AAAYC,YAAAA,IAAI,EAAEF,EAAE,CAACE,IAArB;AAA2BC,YAAAA,KAAK,EAAEH,EAAE,CAACG,KAArC;AAA4CC,YAAAA,MAAM,EAAEJ,EAAE,CAACI;AAAvD,WAAP;AAAsE,SAArF,CAAD,CAAb;AACD,OAJD;AAKD;AACF,GARQ,EAQN,CAACb,UAAD,CARM,CAAT;;AAUA,QAAMc,UAAU,GAAIC,KAAD,IAAU;AAC3B,QAAIC,MAAM,GAAGD,KAAK,CAACE,MAAN,CAAaC,KAA1B;AACAf,IAAAA,YAAY,CAACa,MAAD,CAAZ;AACD,GAHD;;AAMA,QAAMG,YAAY,GAAIJ,KAAD,IAAU;AAC7B,QAAIC,MAAM,GAAGI,QAAQ,CAACL,KAAK,CAACE,MAAN,CAAaC,KAAd,CAArB;AACAvB,IAAAA,KAAK,CAAC0B,MAAN,CAAc,yDAAwDL,MAAO,EAA7E,EACCX,IADD,CACM,MAAM;AACV,UAAIiB,aAAa,GAAGC,UAAU,CAACC,MAAX,CAAkBf,EAAE,IAAG;AAAC,eAAOA,EAAE,CAACC,EAAH,KAAUM,MAAjB;AAAwB,OAAhD,CAApB;AACAf,MAAAA,aAAa,CAACqB,aAAD,CAAb;AACD,KAJD;;AAKA,QAAIpB,SAAS,KAAKc,MAAlB,EAAyB;AACvBb,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACD;AACF,GAVD;;AAYA,sBACE;AAAA,cACIH,UAAU,KAAK,IAAf,iBACC;AAAA,8BACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,eAEC;AAAA,gCACE;AAAA,iCACA;AAAA,oCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALF;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,gBADF,eAUE;AAAA,oBAEMA,UAAU,CAACQ,GAAX,CAAe,CAACiB,IAAD,EAAOC,KAAP,KAAe;AAC5B,gCACE;AAAA,sCACE;AAAA,0BAAKA,KAAK,GAAC;AAAX;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAA,0BAAKD,IAAI,CAACd;AAAV;AAAA;AAAA;AAAA;AAAA,sBAFF,eAGE;AAAA,0BAAKc,IAAI,CAACb;AAAV;AAAA;AAAA;AAAA;AAAA,sBAHF,eAIE;AAAA,2BAAKa,IAAI,CAACZ,MAAL,GAAY,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJF,eAKE;AAAA,wCACE;AAAQ,kBAAA,OAAO,EAAEC,UAAjB;AAA6B,kBAAA,KAAK,EAAEW,IAAI,CAACf,EAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,uBAGE;AAAQ,kBAAA,OAAO,EAAES,YAAjB;AAA+B,kBAAA,KAAK,EAAEM,IAAI,CAACf,EAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,sBALF;AAAA,eAASgB,KAAT;AAAA;AAAA;AAAA;AAAA,oBADF;AAaD,WAdD;AAFN;AAAA;AAAA;AAAA;AAAA,gBAVF;AAAA;AAAA;AAAA;AAAA;AAAA,cAFD;AAAA;AAFL,mBADF;AAyCD,CA3ED;;GAAM7B,Q;;KAAAA,Q;AA6EN,eAAeA,QAAf","sourcesContent":["import React, {useState, useEffect, useContext} from \"react\"\r\nimport axios from \"axios\"\r\nimport { BuahContext } from \"./BuahContext\"\r\n\r\n\r\nconst BuahList = () =>{\r\n  const {daftarBuahState, currentIdState} = useContext(BuahContext)\r\n\r\n  const [daftarBuah, setDaftarBuah] = daftarBuahState\r\n  const [currentId, setCurrentId] = currentIdState\r\n \r\n  useEffect( () => {\r\n    if (daftarBuah === null){\r\n      axios.get(`http://backendexample.sanbercloud.com/api/fruits`)\r\n      .then(res => {\r\n        let data = res.data\r\n        setDaftarBuah(data.map(el=> {return {id: el.id, name: el.name, price: el.price, weight: el.weight}}))\r\n      })\r\n    }\r\n  }, [daftarBuah])\r\n\r\n  const handleEdit = (event) =>{\r\n    let idBuah = event.target.value\r\n    setCurrentId(idBuah)    \r\n  }\r\n  \r\n\r\n  const handleDelete = (event) =>{\r\n    let idBuah = parseInt(event.target.value)\r\n    axios.delete(`http://backendexample.sanbercloud.com/api/contestants/${idBuah}`)\r\n    .then(() => {\r\n      let newDaftarBuah = DaftarBuah.filter(el=> {return el.id !== idBuah})\r\n      setDaftarBuah(newDaftarBuah)\r\n    })\r\n    if (currentId === idBuah){\r\n      setCurrentId(null)\r\n    }\r\n  }\r\n\r\n  return(\r\n    <>\r\n      { daftarBuah !== null &&\r\n        (<>\r\n          <h1>Daftar Buah Lomba</h1>\r\n          <table>\r\n            <thead>\r\n            <tr>\r\n              <th>No</th>\r\n              <th>Nama</th>\r\n              <th>Price</th>\r\n              <th>Weight</th>\r\n              <th>Aksi</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n                {\r\n                  daftarBuah.map((item, index)=>{\r\n                    return(                    \r\n                      <tr key={index}>\r\n                        <td>{index+1}</td>\r\n                        <td>{item.name}</td>\r\n                        <td>{item.price}</td>\r\n                        <td>{item.weight/1000} kg</td>\r\n                        <td>\r\n                          <button onClick={handleEdit} value={item.id}>Edit</button>\r\n                          &nbsp;\r\n                          <button onClick={handleDelete} value={item.id}>Delete</button>\r\n                        </td>\r\n                      </tr>\r\n                    )\r\n                  })\r\n                }\r\n            </tbody>\r\n          </table>\r\n    \r\n        </>)\r\n      }\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default BuahList\r\n"]},"metadata":{},"sourceType":"module"}